this.mytodo=function(t){var e,n="EVENT_NEW_TODO_ITEM_INSERTED",i="EVENT_ERROR";return e=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},t.EventBus=function(){var t,o;t=this,o=postal.channel(e()),t.postNewTodoItemInserted=function(t){o.publish(n,t)},t.onNewTodoItemInserted=function(t){o.subscribe(n,t)},t.postError=function(t){o.publish(i,t)},t.onError=function(t){o.subscribe(i,t)}},t}(this.mytodo||{}),this.mytodo=function(t){return t.MyTodoService=function(){this.getTodoList=function(t,o){t([{title:"a passed item",description:"due date is passed",dueDate:new Date(2014,8,15)},{title:"an item",description:"something to do",dueDate:new Date(2014,9,15)},{title:"another item",description:"something to say",dueDate:new Date(2014,9,16)}])},this.insertTodoItem=function(t,o,e){o()}},t}(this.mytodo||{}),this.mytodo=function(i){return i.MyTodoView=function(){var t,o,e,n;e=new i.EventBus,n=new i.MyTodoService,o=new i.TodoListView(e,n),t=new i.NewTodoItemView(e,n),e.onError(function(t){alert(t)}),this.init=function(){o.init(),t.init()}},i}(this.mytodo||{}),this.mytodo=function(n){return n.NewTodoItemView=function(t,o){var e;e=new n.NewTodoItemViewModel(t,o),this.init=function(){jQuery("#todoItemDueDate").datepicker({changeMonth:!0,changeYear:!0,minDate:new Date}),ko.applyBindings(e,document.getElementById("newItemView"))}},n}(this.mytodo||{}),this.mytodo=function(t){return t.NewTodoItemViewModel=function(n,i){var r;(r=this).title=ko.observable(""),r.description=ko.observable(""),r.dueDate=ko.observable(""),r.canInsertNewTicket=ko.computed(function(){return r.title()&&r.description()&&r.dueDate()}),r.insertNewTodoItem=function(){var t,o,e;e={title:r.title(),description:r.description(),dueDate:new Date(r.dueDate())},t=function(){n.postNewTodoItemInserted(e),r.title(""),r.description(""),r.dueDate("")},o=function(){n.postError("Error inserting new Todo item")},i.insertTodoItem(e,t,o)}},t}(this.mytodo||{}),this.mytodo=function(t){return t.ToDoItem=function(t){var o;(o=this).title=ko.observable(t.title),o.description=ko.observable(t.description),o.dueDate=ko.observable(t.dueDate),o.done=ko.observable(!1),o.formattedDueDate=ko.computed(function(){return o.dueDate().toLocaleDateString()}),o.isLate=ko.computed(function(){return o.dueDate()<new Date&&!o.done()})},t}(this.mytodo||{}),this.mytodo=function(n){return n.TodoListView=function(t,o){var e;e=new n.TodoListViewModel(t,o),this.init=function(){ko.applyBindings(e,document.getElementById("todoListView")),e.loadTodoList()}},n}(this.mytodo||{}),this.mytodo=function(r){return r.TodoListViewModel=function(e,n){var i;i=this,e.onNewTodoItemInserted(function(t){i.todoItems.push(new r.ToDoItem(t))}),i.todoItems=ko.observableArray([]),i.loadTodoList=function(){var t,o;t=function(t){var o;for(i.todoItems.removeAll(),o=0;o<t.length;o+=1)i.todoItems.push(new r.ToDoItem(t[o]))},o=function(){e.postError("Error loading Todo list")},n.getTodoList(t,o)}},r}(this.mytodo||{});